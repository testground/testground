[metadata]
  name = "find-provs"
  author = "adin"

[global]
  plan = "dht"
  case = "find-providers"
  total_instances = 1000
  builder = "docker:go"
  runner = "cluster:k8s"
  [global.build_config]
    push_registry = true
    registry_type = "aws"

[[groups]]
  id = "cypress"
  [groups.instances]
    count = 0
    percentage = 1.0
  [groups.build]

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p-kad-dht"
      version = "v0.4.2-0.20200204202258-35d3e4a5d43e"

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p-autonat"
      version = "v0.1.2-0.20200204200147-902af8cb7b6a"
  [groups.run]
    artifact = "909427826938.dkr.ecr.us-east-1.amazonaws.com/testground-us-dht:be34902560bd"
    [groups.run.test_params]
      bucket_size = "10"
      client_mode = "false"
      datastore = "0"
      f_undialable = "0.0"
      n_bootstrap = "-4"
      n_find_peers = "5"
      n_paths = "1"
      n_providing = "5"
      record_count = "5"
      timeout_secs = "2000"
